{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict'\n\nimport validator from 'validator';\n\nconst formData = {\n    email: '',\n    message: '',\n};\n\nconst form = {\n    formItem: document.querySelector('.feedback-form'),\n    emailInput: document.querySelector('input[name = email]'),\n    messageTextarea: document.querySelector('textarea[name = message]'),\n\n    toLocalStorage(event) {\n        if (event.srcElement.localName === 'input') {\n            formData.email = event.srcElement.value\n        };\n        if (event.srcElement.localName === 'textarea'){\n            formData.message = event.srcElement.value \n        };\n\n        localStorage.setItem('feedback-form-state', JSON.stringify(formData))\n    },\n    formSubmit(event) {\n        event.preventDefault();\n        if (form.emailInput.value === '' || form.messageTextarea.value === '') {\n            alert('Fill please all fields');\n            return\n        }\n        if (!(validator.isEmail(form.emailInput.value))) {\n            alert('Incorrect email');\n            return\n        }\n        \n        console.log(formData);\n        form.emailInput.value = '';\n        form.messageTextarea.value = '';\n        \n        formData.email = '';\n        formData.message = '';\n        localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n    }\n}\n\nconst formState = JSON.parse(localStorage.getItem('feedback-form-state'));\n\nform.emailInput.value= formState.email;\nform.messageTextarea.value = formState.message;\n\nformData.email = formState.email;\nformData.message = formState.message;\n\nform.formItem.addEventListener('input', form.toLocalStorage);\nform.formItem.addEventListener('submit', form.formSubmit);"],"names":["formData","form","event","validator","formState"],"mappings":"oFAIA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAO,CACT,SAAU,SAAS,cAAc,gBAAgB,EACjD,WAAY,SAAS,cAAc,qBAAqB,EACxD,gBAAiB,SAAS,cAAc,0BAA0B,EAElE,eAAeC,EAAO,CACdA,EAAM,WAAW,YAAc,UAC/BF,EAAS,MAAQE,EAAM,WAAW,OAElCA,EAAM,WAAW,YAAc,aAC/BF,EAAS,QAAUE,EAAM,WAAW,OAGxC,aAAa,QAAQ,sBAAuB,KAAK,UAAUF,CAAQ,CAAC,CACvE,EACD,WAAWE,EAAO,CAEd,GADAA,EAAM,eAAc,EAChBD,EAAK,WAAW,QAAU,IAAMA,EAAK,gBAAgB,QAAU,GAAI,CACnE,MAAM,wBAAwB,EAC9B,MACH,CACD,GAAI,CAAEE,EAAU,QAAQF,EAAK,WAAW,KAAK,EAAI,CAC7C,MAAM,iBAAiB,EACvB,MACH,CAED,QAAQ,IAAID,CAAQ,EACpBC,EAAK,WAAW,MAAQ,GACxBA,EAAK,gBAAgB,MAAQ,GAE7BD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,aAAa,QAAQ,sBAAuB,KAAK,UAAUA,CAAQ,CAAC,CACvE,CACL,EAEMI,EAAY,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAExEH,EAAK,WAAW,MAAOG,EAAU,MACjCH,EAAK,gBAAgB,MAAQG,EAAU,QAEvCJ,EAAS,MAAQI,EAAU,MAC3BJ,EAAS,QAAUI,EAAU,QAE7BH,EAAK,SAAS,iBAAiB,QAASA,EAAK,cAAc,EAC3DA,EAAK,SAAS,iBAAiB,SAAUA,EAAK,UAAU"}